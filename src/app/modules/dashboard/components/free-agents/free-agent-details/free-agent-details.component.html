<div class="pagetitle">
	<h1>Профиль</h1>
	<nav>
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a>Главная</a></li>
			<li class="breadcrumb-item active">Профиль</li>
		</ol>
	</nav>
</div><!-- End Page Title -->

<section class="section profile">
	<div class="row">
		<div class="col-lg-3">

			<div class="card">
				<div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

					<img [hidden]="!profile?.img" [src]="profile?.img" alt="Profile" class="rounded-circle profile">
					<i [hidden]="profile?.img" style="font-size: 5em;" class="bi bi-person-circle"></i>
					<h2>{{profile?.firstname}} {{profile?.lastname}}</h2>
					<h3>{{profile?.role.desc}}</h3>
					<div class="social-links mt-2">
						<a *ngIf="profile?.instagram" target="_blank" [href]="profile?.instagram" class="instagram"><i
								class="bi bi-instagram"></i></a>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-9">

			<div class="card">
				<div class="card-body pt-3">

					<ul class="nav nav-tabs nav-tabs-bordered">

						<li class="nav-item">
							<button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Общее</button>
						</li>

						<li class="nav-item d-none">
							<button [disabled]="true" class="nav-link" data-bs-toggle="tab"
								data-bs-target="#profile-settings">Доступы</button>
						</li>

						<li class="nav-item d-none">
							<button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-change-password">Изменить
								пароль</button>
						</li>
						<li class="nav-item"
							*ngIf="profile?.role.code == 'club' || profile?.role.code == 'player' || profile?.role.code == 'coach'">
							<button class="nav-link" data-bs-toggle="tab" data-bs-target="#photo">Фотогалерея</button>
						</li>
						<li class="nav-item"
							*ngIf="profile?.role.code == 'club' || profile?.role.code == 'player' || profile?.role.code == 'coach'">
							<button class="nav-link" data-bs-toggle="tab" data-bs-target="#video">Видеогалерея</button>
						</li>

					</ul>

					<div class="tab-content pt-2">
						<!-- Общая информация -->
						<div class="tab-pane fade show active profile-overview" id="profile-overview">
							<div class="row d-flex align-items-center mb-0">
								<div class="col">
									<h5 class="card-title">Описание</h5>
								</div>

							</div>

							<p class="small fst-italic">{{profile?.about}}</p>

							<h5 class="card-title">Детали профиля</h5>

							<div class="row">
								<div class="col-lg-3 col-md-4 label ">Полное имя</div>
								<div class="col-lg-9 col-md-8">{{profile?.fullName}}</div>
							</div>

							<div class="row" *ngIf="profile?.role.code !== 'admin' ">
								<div class="col-lg-3 col-md-4 label">Клуб</div>
								<div class="col-lg-9 col-md-8">
									<span *ngIf="profile?.club"> {{profile?.club?.name}}</span>
									<span *ngIf="!profile?.club" class="badge bg-primary">Свободный агент</span>
								</div>

							</div>

							<div class="row">
								<div class="col-lg-3 col-md-4 label">Роль</div>
								<div class="col-lg-9 col-md-8">{{profile?.role?.desc}}</div>
							</div>

							<div class="row">
								<div class="col-lg-3 col-md-4 label">Регион</div>
								<div class="col-lg-9 col-md-8">{{profile?.region?.name}}</div>
							</div>

							<div class="row">
								<div class="col-lg-3 col-md-4 label">Адрес</div>
								<div class="col-lg-9 col-md-8">{{profile?.address}}</div>
							</div>

							<div class="row">
								<div class="col-lg-3 col-md-4 label">Телефон</div>
								<div class="col-lg-9 col-md-8">{{profile?.phone}}</div>
							</div>

							<div class="row">
								<div class="col-lg-3 col-md-4 label">Email</div>
								<div class="col-lg-9 col-md-8">{{profile?.email}}</div>
							</div>

						</div>
						<!-- Общая информация -->

						<!-- Фотогалерея -->
						<div class="tab-pane fade pt-3" id="photo">
							<div class="row">
								<div class="col-lg-4 col-md-6" *ngFor="let image of profile?.images">
									<div class="card">
										<p-image [src]="image" alt="Image" [preview]="true">
										</p-image>
									</div>
								</div>
							</div>
						</div>
						<!-- Фотогалерея -->


						<!-- Видеогалерея -->
						<div class="tab-pane fade pt-3" id="video">

							<div class="row">
								<div class="col-lg-6 col-md-6" *ngFor="let item of profile?.videos">
									<div class="card">
										<iframe height="250" [src]="safeURL" title="YouTube video player" frameborder="0"
											allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
											allowfullscreen></iframe>
									</div>
								</div>
							</div>
						</div>
						<!-- Видеогалерея -->
					</div>
				</div>
			</div>
		</div>
	</div>
</section>